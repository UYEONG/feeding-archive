(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{175:function(e,t,n){e.exports=n(377)},376:function(e,t,n){},377:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(9),o=n(32),c=n.n(o),s=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function u(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}var l=n(174),p=n(50),d=n(51),m=n(54),f=n(52),g=n(55),h=n(53),v=n(126),b=n(41),w=n(163),E=n.n(w),k=n(20),y=n.n(k),O=n(40),j={fetch:function(){return new Promise(function(e){var t=c.a.auth().onAuthStateChanged(function(n){e(n),t()})})},login:function(){var e=Object(O.a)(y.a.mark(function e(t,n){return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.a.auth().setPersistence(c.a.auth.Auth.Persistence.LOCAL);case 2:return e.next=4,c.a.auth().signInWithEmailAndPassword(t,n);case 4:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),logout:function(){return c.a.auth().signOut()}},_=n(164),S="PREPARED",x="LOGIN_START",A="LOGIN_SUCCESS",N="LOGIN_FAIL",L=new _.Dispatcher,C={prepare:function(){var e=Object(O.a)(y.a.mark(function e(){var t;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.fetch();case 2:t=e.sent,L.dispatch({type:S,user:t});case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),login:function(){var e=Object(O.a)(y.a.mark(function e(t,n){var a;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return L.dispatch({type:x}),e.prev=1,e.next=4,j.login(t,n);case 4:return e.next=6,j.fetch();case 6:a=e.sent,L.dispatch({type:A,user:a}),e.next=14;break;case 10:throw e.prev=10,e.t0=e.catch(1),L.dispatch({type:N}),e.t0;case 14:case"end":return e.stop()}},e,null,[[1,10]])}));return function(t,n){return e.apply(this,arguments)}}()},P=n(165),I=new(function(e){function t(){return Object(p.a)(this,t),Object(m.a)(this,Object(f.a)(t).call(this,L))}return Object(g.a)(t,e),Object(d.a)(t,[{key:"getInitialState",value:function(){return{user:void 0,processing:{login:!1}}}},{key:"reduce",value:function(e,t){return Object(P.a)(e,function(e){switch(t.type){case S:case A:e.user=t.user,e.processing.login=!1;break;case x:e.processing.login=!0;break;case N:e.processing.login=!1}})}}]),t}(h.ReduceStore)),R=n(87),D=n.n(R),W=function(){return r.a.createElement("section",{className:D.a.wrapper},r.a.createElement("div",{className:D.a.dimmed}),r.a.createElement("div",{className:D.a.loader}),r.a.createElement("span",{className:"blind"},"\uc900\ube44\uc911"))},T=function(){return r.a.createElement("div",null,"Home")},U=n(42),z=n(173),F=n(59),H=n.n(F),B=function(e){function t(){var e,n;Object(p.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(m.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).onClickSubmit=function(e){e.preventDefault(),n.props.form.validateFields(function(){var e=Object(O.a)(y.a.mark(function e(t,n){var a,r;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.email,r=n.password,t){e.next=10;break}return e.prev=2,e.next=5,C.login(a,r);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),U.d.info("\ub85c\uadf8\uc778\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.",2);case 10:case"end":return e.stop()}},e,null,[[2,7]])}));return function(t,n){return e.apply(this,arguments)}}())},n}return Object(g.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e,t=this.props.form,n=t.getFieldProps,a=t.getFieldError,i=(this.props.location.state||{from:{pathname:"/"}}).from,o=this.state,c=o.user,s=o.processing;return r.a.createElement("section",{className:H.a.wrapper},c?r.a.createElement(b.a,{to:i}):r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",{className:H.a.title},"\uc11c\ube44\uc2a4 \uc774\uc6a9\uc744 \uc704\ud574\uc11c",r.a.createElement("br",null),"\ub85c\uadf8\uc778\ud574\uc8fc\uc138\uc694."),r.a.createElement(U.c,{renderHeader:"\uc774\uba54\uc77c"},r.a.createElement(U.b,Object.assign({name:"email",type:"email",clear:!0,disabled:s.login},n("email",{rules:[{required:!0,message:"\uc774\uba54\uc77c\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694."},{type:"email",message:"\uc720\ud6a8\ud55c \uc774\uba54\uc77c\uc774 \uc544\ub2d9\ub2c8\ub2e4."}]}))),r.a.createElement("p",{className:H.a.error},(e=a("email"))?e.join(","):null)),r.a.createElement(U.c,{renderHeader:"\ube44\ubc00\ubc88\ud638"},r.a.createElement(U.b,Object.assign({name:"password",type:"password",clear:!0,disabled:s.login},n("password",{rules:[{required:!0,message:"\ube44\ubc00\ubc88\ud638\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694."},{min:8,message:"8\uc790 \uc774\uc0c1 \uc785\ub825\ud574\uc8fc\uc138\uc694."}]}))),r.a.createElement("p",{className:H.a.error},(e=a("password"))?e.join(","):null)),r.a.createElement(U.a,{className:H.a.submit,type:"primary",size:"large",disabled:s.login,loading:s.login,onClick:this.onClickSubmit},"\ub85c\uadf8\uc778")))}}],[{key:"getStores",value:function(){return[I]}},{key:"calculateState",value:function(){return I.getState()}}]),t}(a.Component),G=Object(z.a)()(h.Container.create(B)),X=function(e){function t(){return Object(p.a)(this,t),Object(m.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){C.prepare()}},{key:"render",value:function(){var e=this.state.user;return r.a.createElement("article",null,r.a.createElement(E.a,{transitionName:"preparing",transitionEnterTimeout:0,transitionLeaveTimeout:800},void 0===e?r.a.createElement(W,null):null),void 0!==e&&r.a.createElement(v.a,{basename:"/feeding-archive"},r.a.createElement(b.b,{path:"/login",component:G}),r.a.createElement(q,{path:"/",exact:!0,component:T,authenticated:!!e})))}}],[{key:"getStores",value:function(){return[I]}},{key:"calculateState",value:function(){return I.getState()}}]),t}(a.Component);function q(e){var t=e.component,n=e.authenticated,a=Object(l.a)(e,["component","authenticated"]);return r.a.createElement(b.b,Object.assign({},a,{render:function(e){return n?r.a.createElement(t,e):r.a.createElement(b.a,{to:{pathname:"/login",state:{from:e.location}}})}}))}var J=h.Container.create(X);n(374),n(376);c.a.initializeApp({apiKey:"AIzaSyDdeg2ga2gD508X3kzAxtZROIXc-bX-mL4",authDomain:"feeding-archive.firebaseapp.com",databaseURL:"https://feeding-archive.firebaseio.com",projectId:"feeding-archive",storageBucket:"feeding-archive.appspot.com",messagingSenderId:"217801729531"}),Object(i.render)(r.a.createElement(J,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/feeding-archive",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/feeding-archive","/service-worker.js");s?(function(e,t){fetch(e).then(function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):u(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):u(t,e)})}}()},59:function(e,t,n){e.exports={wrapper:"Login_wrapper__1sk6n",title:"Login_title__2HzUd",error:"Login_error__2M646",submit:"Login_submit__2ZwD2"}},87:function(e,t,n){e.exports={wrapper:"Preparing_wrapper__1mSHY",dimmed:"Preparing_dimmed__QIBRQ",loader:"Preparing_loader__1NukE","bong-bong":"Preparing_bong-bong__25t4x"}}},[[175,1,2]]]);
//# sourceMappingURL=main.3cbe9c10.chunk.js.map