(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{179:function(e,t,a){e.exports=a(384)},383:function(e,t,a){},384:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(9),c=a(38),o=a.n(c),s=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function l(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}var u=a(178),p=a(31),m=a(32),d=a(36),f=a(33),h=a(37),g=a(34),v=a(57),b=a(47),w=a(166),E=a.n(w),_=a(167),y=a.n(_),k=a(20),O=a.n(k),j=a(46),N={fetch:function(){return new Promise(function(e){var t=o.a.auth().onAuthStateChanged(function(a){e(a),t()})})},login:function(){var e=Object(j.a)(O.a.mark(function e(t,a){return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.auth().setPersistence(o.a.auth.Auth.Persistence.LOCAL);case 2:return e.next=4,o.a.auth().signInWithEmailAndPassword(t,a);case 4:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),logout:function(){return o.a.auth().signOut()}},S=a(168),A="PREPARED",x="LOGIN_START",C="LOGIN_SUCCESS",D="LOGIN_FAIL",L=new S.Dispatcher,Y={prepare:function(){var e=Object(j.a)(O.a.mark(function e(){var t;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.fetch();case 2:t=e.sent,L.dispatch({type:A,user:t});case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),login:function(){var e=Object(j.a)(O.a.mark(function e(t,a){var n;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return L.dispatch({type:x}),e.prev=1,e.next=4,N.login(t,a);case 4:return e.next=6,N.fetch();case 6:n=e.sent,L.dispatch({type:C,user:n}),e.next=14;break;case 10:throw e.prev=10,e.t0=e.catch(1),L.dispatch({type:D}),e.t0;case 14:case"end":return e.stop()}},e,null,[[1,10]])}));return function(t,a){return e.apply(this,arguments)}}()},P=a(169),I=new(function(e){function t(){return Object(p.a)(this,t),Object(d.a)(this,Object(f.a)(t).call(this,L))}return Object(h.a)(t,e),Object(m.a)(t,[{key:"getInitialState",value:function(){return{user:void 0,processing:{login:!1}}}},{key:"reduce",value:function(e,t){return Object(P.a)(e,function(e){switch(t.type){case A:case C:e.user=t.user,e.processing.login=!1;break;case x:e.processing.login=!0;break;case D:e.processing.login=!1}})}}]),t}(g.ReduceStore)),M=a(90),R=a.n(M),W=function(){return r.a.createElement("header",{className:R.a.wrapper},r.a.createElement("div",{className:R.a.inner},r.a.createElement("h1",{className:R.a.title},"Feeding Archive")))},H=a(91),T=a.n(H),z=function(){return r.a.createElement("section",{className:T.a.wrapper},r.a.createElement("div",{className:T.a.dimmed}),r.a.createElement("div",{className:T.a.loader}),r.a.createElement("span",{className:"blind"},"\uc900\ube44\uc911"))},F=a(48),U=a(177),B=a(61),G=a.n(B),J=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(d.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).onClickSubmit=function(e){e.preventDefault(),a.props.form.validateFields(function(){var e=Object(j.a)(O.a.mark(function e(t,a){var n,r;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.email,r=a.password,t){e.next=10;break}return e.prev=2,e.next=5,Y.login(n,r);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),F.d.info("\ub85c\uadf8\uc778\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.",2);case 10:case"end":return e.stop()}},e,null,[[2,7]])}));return function(t,a){return e.apply(this,arguments)}}())},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e,t=this.props.form,a=t.getFieldProps,n=t.getFieldError,i=(this.props.location.state||{from:{pathname:"/"}}).from,c=this.state,o=c.user,s=c.processing;return r.a.createElement("section",{className:G.a.wrapper},o?r.a.createElement(b.a,{to:i}):r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",{className:G.a.title},"\uc11c\ube44\uc2a4 \uc774\uc6a9\uc744 \uc704\ud574\uc11c",r.a.createElement("br",null),"\ub85c\uadf8\uc778\ud574\uc8fc\uc138\uc694."),r.a.createElement(F.c,{renderHeader:"\uc774\uba54\uc77c"},r.a.createElement(F.b,Object.assign({name:"email",type:"email",clear:!0,disabled:s.login},a("email",{rules:[{required:!0,message:"\uc774\uba54\uc77c\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694."},{type:"email",message:"\uc720\ud6a8\ud55c \uc774\uba54\uc77c\uc774 \uc544\ub2d9\ub2c8\ub2e4."}]}))),r.a.createElement("p",{className:G.a.error},(e=n("email"))?e.join(","):null)),r.a.createElement(F.c,{renderHeader:"\ube44\ubc00\ubc88\ud638"},r.a.createElement(F.b,Object.assign({name:"password",type:"password",clear:!0,disabled:s.login},a("password",{rules:[{required:!0,message:"\ube44\ubc00\ubc88\ud638\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694."},{min:8,message:"8\uc790 \uc774\uc0c1 \uc785\ub825\ud574\uc8fc\uc138\uc694."}]}))),r.a.createElement("p",{className:G.a.error},(e=n("password"))?e.join(","):null)),r.a.createElement(F.a,{className:G.a.submit,type:"primary",size:"large",disabled:s.login,loading:s.login,onClick:this.onClickSubmit},"\ub85c\uadf8\uc778")))}}],[{key:"getStores",value:function(){return[I]}},{key:"calculateState",value:function(){return I.getState()}}]),t}(n.Component),X=Object(U.a)()(g.Container.create(J)),Z=a(56),q=a.n(Z),K=a(70),Q=a.n(K),$=function(e){function t(){return Object(p.a)(this,t),Object(d.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props.match.params.current,t=void 0===e?q()().format("YYYY-MM-DD"):e,a=q()(t).subtract(1,"days").format("YYYY-MM-DD"),n=q()(t).add(1,"days").format("YYYY-MM-DD");return r.a.createElement("section",{className:Q.a.wrapper},r.a.createElement("div",{className:Q.a.header},r.a.createElement("h1",{className:Q.a.title},t),r.a.createElement("nav",{className:Q.a.navigation},r.a.createElement(v.b,{to:"/archives/".concat(a)},r.a.createElement("span",{className:"blind"},"\ub4a4\ub85c")),r.a.createElement(v.b,{to:"/archives/".concat(n)},r.a.createElement("span",{className:"blind"},"\uc55e\uc73c\ub85c")))))}}],[{key:"getStores",value:function(){return[I]}},{key:"calculateState",value:function(){return I.getState()}}]),t}(n.Component),V=g.Container.create($);y.a.tz.setDefault("Asia/Seoul");var ee=function(e){function t(){return Object(p.a)(this,t),Object(d.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){Y.prepare()}},{key:"render",value:function(){var e=this.state.user;return r.a.createElement("article",null,r.a.createElement(E.a,{transitionName:"preparing",transitionEnterTimeout:0,transitionLeaveTimeout:800},void 0===e?r.a.createElement(z,null):null),void 0!==e&&r.a.createElement(v.a,{basename:"/feeding-archive"},r.a.createElement(W,null),r.a.createElement(b.b,{path:"/login",component:X}),r.a.createElement(b.d,null,r.a.createElement(b.a,{exact:!0,from:"/",to:"/archives"}),r.a.createElement(te,{path:"/archives/:current?",component:V,authenticated:!!e}))))}}],[{key:"getStores",value:function(){return[I]}},{key:"calculateState",value:function(){return I.getState()}}]),t}(n.Component);function te(e){var t=e.component,a=e.authenticated,n=Object(u.a)(e,["component","authenticated"]);return r.a.createElement(b.b,Object.assign({},n,{render:function(e){return a?r.a.createElement(t,e):r.a.createElement(b.a,{to:{pathname:"/login",state:{from:e.location}}})}}))}var ae=g.Container.create(ee);a(381),a(383);o.a.initializeApp({apiKey:"AIzaSyDdeg2ga2gD508X3kzAxtZROIXc-bX-mL4",authDomain:"feeding-archive.firebaseapp.com",databaseURL:"https://feeding-archive.firebaseio.com",projectId:"feeding-archive",storageBucket:"feeding-archive.appspot.com",messagingSenderId:"217801729531"}),Object(i.render)(r.a.createElement(ae,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/feeding-archive",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/feeding-archive","/service-worker.js");s?(function(e,t){fetch(e).then(function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):l(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):l(t,e)})}}()},61:function(e,t,a){e.exports={wrapper:"Login_wrapper__1sk6n",title:"Login_title__2HzUd",error:"Login_error__2M646",submit:"Login_submit__2ZwD2"}},70:function(e,t,a){e.exports={wrapper:"Archives_wrapper__3Y84o",header:"Archives_header__1Aj07",title:"Archives_title__Jeua6",navigation:"Archives_navigation__12a9f"}},90:function(e,t,a){e.exports={wrapper:"Header_wrapper__vTlMh",inner:"Header_inner__1ndfK",title:"Header_title__M5bZg"}},91:function(e,t,a){e.exports={wrapper:"Preparing_wrapper__1mSHY",dimmed:"Preparing_dimmed__QIBRQ",loader:"Preparing_loader__1NukE","bong-bong":"Preparing_bong-bong__25t4x"}}},[[179,1,2]]]);
//# sourceMappingURL=main.ad7d851e.chunk.js.map